(this.webpackJsonpoville=this.webpackJsonpoville||[]).push([[0],{50:function(e,t,a){e.exports=a(91)},55:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(31),i=a.n(c),s=(a(55),a(7)),l=a(8),o=a(11),m=a(10),u=a(4),d=a.n(u),p=a(13),_=a(17),g=a(29),h=a(27),b=a(14),E=a(9),f=a(15),v=function(e){return e.stock},y=Object(f.createSelector)([v],(function(e){return e.stock})),N=Object(f.createSelector)([v],(function(e){return e.burgerIsHidden})),O=(0,a(15).createSelector)([function(e){return e.user}],(function(e){return e.currentUser})),j=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.sidebarHidden,a=e.user,n={border:"1px solid blue"};return!t&&window.innerWidth<623&&(n={transform:"translateX(1%)"}),r.a.createElement("div",{className:"sidebar",style:n},r.a.createElement("div",{className:"sidebar__account"},r.a.createElement("div",{className:"sidebar__account--avatar"}," ",r.a.createElement(g.c,{className:"Sidebar__account--icon"})," "),r.a.createElement("p",{className:"sidebar__account--email"},a.email),r.a.createElement("p",{className:"sidebar__account--admin"},"Admin")),r.a.createElement("ul",{className:"sidebar__links"},r.a.createElement(b.c,{to:"/",className:"sidebar__link"},r.a.createElement(_.d,{className:"sidebar__link--icon"}),r.a.createElement("div",{className:"sidebar__link--item"},"Dashboard")),r.a.createElement(b.c,{to:"/add",className:"sidebar__link",activeClassName:"sidebar-active"},r.a.createElement(_.a,{className:"sidebar__link--icon"}),r.a.createElement("div",{className:"sidebar__link--item"},"New Product")),r.a.createElement(b.c,{to:"/create-category",className:"sidebar__link",activeClassName:"sidebar-active"},r.a.createElement(_.g,{className:"sidebar__link--icon"}),r.a.createElement("div",{className:"sidebar__link--item"},"New Category")),r.a.createElement(b.c,{to:"/Create-admin",className:"sidebar__link",activeClassName:"sidebar-active"},r.a.createElement(h.a,{className:"sidebar__link--icon"}),r.a.createElement("div",{className:"sidebar__link--item"},"Create Admin")),r.a.createElement("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"sidebar__link"},r.a.createElement(_.h,{className:"sidebar__link--icon"}),r.a.createElement("div",{className:"sidebar__link--item"},"App"))))}}]),a}(r.a.Component),C=Object(E.b)((function(e){return{sidebarHidden:N(e),user:O(e)}}))(j),k=a(25),w=a.n(k);a(62),a(65),a(92);w.a.initializeApp({apiKey:"AIzaSyDGVorq6WlOtUPx8Ew0hm08tYcm8gD_NPI",authDomain:"e-commerce-oville.firebaseapp.com",databaseURL:"https://e-commerce-oville.firebaseio.com",projectId:"e-commerce-oville",storageBucket:"e-commerce-oville.appspot.com",messagingSenderId:"650465885299",appId:"1:650465885299:web:561ce92c8ea44023ad3e06",measurementId:"G-1FXMDP5XX7"});var S=w.a.auth(),x=w.a.firestore(),A=new w.a.auth.GoogleAuthProvider,T=w.a.storage().ref().child("images"),U=(w.a,"GET_STOCK_START"),G="GET_STOCK_SUCCESS",I="GET_STOCK_FAILURE",D="TOGGLE_HIDDEN",P=function(e){return{type:G,payload:e}},F=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:U}),a=[],n=x.collection("stock_count"),e.next=6,n.get();case 6:e.sent.docs.forEach((function(e){a.push(e.data())})),t(P(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t((r=e.t0,{type:I,payload:r}));case 14:case"end":return e.stop()}var r}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},q=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"stock"},r.a.createElement("div",{className:"stock__count"},r.a.createElement("span",{className:"stock__count--number"},this.props.stock?this.props.stock.reduce((function(e,t){return e+t.count}),0):"..."),r.a.createElement("span",{className:"stock__count--text"},"Items Available")),r.a.createElement("div",{className:"stock__xx"},r.a.createElement("h2",{className:"stock__heading"}," Stock"),r.a.createElement(b.b,{to:"/add",className:"stock__action"},"Add New Item")))}}]),a}(r.a.Component),R=Object(E.b)((function(e){return{stock:y(e)}}),(function(e){return{getStockCount:function(){return e(F())}}}))(q),M=a(12),L=Object(M.f)((function(e){var t=e.stock,a=e.history;return r.a.createElement("tr",{className:"table-row"},r.a.createElement("td",{style:{textTransform:"capitalize"}},t.category),r.a.createElement("td",null,t.count),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return a.push("/product/".concat(t.category.toLowerCase()))}},"View")))})),W=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.stockCount;return r.a.createElement("div",{className:"category-list"},r.a.createElement("h4",{className:"category-list__heading"},r.a.createElement(_.i,{className:"category-list__heading--icon"}),r.a.createElement("span",null,"Categories")),r.a.createElement("table",{className:"category-list__table"},r.a.createElement("tr",null,r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Item Count")),e?e.map((function(e){return r.a.createElement(L,{stock:e,key:e.category})})):"loading"))}}]),a}(r.a.Component),H=Object(E.b)((function(e){return{stockCount:y(e)}}),null)(W),Y=a(22),B=a(44),z=function(e){return e.products},K=Object(f.createSelector)([z],(function(e){return e.isGettingProducts})),X=Object(f.createSelector)([z],(function(e){return e.products})),Q=function(e){return e.category},V=Object(f.createSelector)([Q],(function(e){return e.isCreating})),J=Object(f.createSelector)([Q],(function(e){return e.errMsg})),$=(Object(f.createSelector)([Q],(function(e){return e.getCategoryErrorMsg})),Object(f.createSelector)([Q],(function(e){return e.categories}))),Z=(Object(f.createSelector)([Q],(function(e){return e.isGettingCategory})),"ADD_NEW_ITEM_START"),ee="ADD_NEW_ITEM_SUCCESS",te="ADD_NEW_ITEM_FAILURE",ae="UPDATE_ITEM_START",ne="UPDATE_ITEM_SUCCESS",re="UPDATE_ITEM_FAILURE",ce=a(24),ie=a.n(ce),se=function(e){return e.newItem},le=Object(f.createSelector)([se],(function(e){return e.isAdding})),oe=Object(f.createSelector)([se],(function(e){return e.isUpdating})),me=(Object(f.createSelector)([se],(function(e){return e.clearForm})),a(28)),ue=a.n(me),de=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={productName:"",description:"",category:"",price:null,quantity:null,spec1:"",spec2:"",spec3:"",spec4:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Y.a)({},n,r))},e.handleSubmit=function(){var t=Object(p.a)(d.a.mark((function t(a){var n,r,c,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.props,r=n.match.params.id,c=n.updateProduct,i=n.history,t.next=4,c(e.state,r);case 4:i.goBack();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.id,a=e.products.filter((function(e){return e.id===t})),n=a[0].data,r=n.productName,c=n.description,i=n.category,s=n.price,l=n.quantity;this.setState({productName:r,description:c,category:i,price:s,quantity:l,spec1:a[0].data.specifications[0],spec2:a[0].data.specifications[1],spec3:a[0].data.specifications[2],spec4:a[0].data.specifications[3]})}},{key:"render",value:function(){var e=this.state,t=e.productName,a=e.description,n=e.category,c=e.price,i=e.quantity,s=e.spec1,l=e.spec2,o=e.spec3,m=e.spec4;return r.a.createElement("div",{className:"add-item"},r.a.createElement("h2",{className:"add-item__heading"},r.a.createElement(B.a,null),r.a.createElement("span",null,"Edit Item")),r.a.createElement("form",{className:"add-item__form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"add-item__form--group"},r.a.createElement("label",{htmlFor:"name",className:"add-item__label"},"Product Name:"),r.a.createElement("input",{value:t,onChange:this.handleChange,type:"text",name:"productName",id:"productName",required:!0,className:"add-item__input add-item__input--name"})),r.a.createElement("div",{className:"add-item__form--group add-item__description"},r.a.createElement("label",{htmlFor:"description",className:"add-item__label"},"Description:"),r.a.createElement("textarea",{value:a,onChange:this.handleChange,name:"description",id:"description",cols:"36",rows:"6",required:!0,className:"add-item__input add-item__input--textarea"})),r.a.createElement("div",{className:"add-item__form--group add-item__category"},r.a.createElement("label",{htmlFor:"category",className:"add-item__label"},"Category:"),r.a.createElement("select",{value:n,onChange:this.handleChange,id:"category",name:"category",className:"add-item__input add-item__input--category"},this.props.categoryList.map((function(e){return r.a.createElement("option",{key:e.categoryName,value:e.categoryName},e.categoryName)})))),r.a.createElement("div",{className:"add-item__form--number"},r.a.createElement("div",{className:"add-item__form--group"},r.a.createElement("label",{htmlFor:"Price",className:"add-item__label"},"Price(\u20a6):"),r.a.createElement("input",{value:c,onChange:this.handleChange,type:"number",name:"price",id:"price",required:!0,className:"add-item__input add-item__input--price"})),r.a.createElement("div",{className:"add-item__form--group"},r.a.createElement("label",{htmlFor:"Price",className:"add-item__label"},"Quantity:"),r.a.createElement("input",{value:i,onChange:this.handleChange,type:"number",name:"quantity",id:"quantity",required:!0,className:"add-item__input add-item__input--qty"}))),r.a.createElement("div",{className:"add-item__spec"},r.a.createElement("h5",{className:"add-item__spec--heading"},"Add Specification"),r.a.createElement("div",{className:"add-item__spec--group"},r.a.createElement("label",{htmlFor:"spec1",className:"add-item__label"},"1: "),r.a.createElement("input",{value:s,onChange:this.handleChange,type:"text",name:"spec1",id:"spec1",className:"add-item__input"})),r.a.createElement("div",{className:"add-item__spec--group"},r.a.createElement("label",{htmlFor:"spec2",className:"add-item__label"},"2: "),r.a.createElement("input",{value:l,onChange:this.handleChange,type:"text",name:"spec2",id:"spec2",className:"add-item__input"})),r.a.createElement("div",{className:"add-item__spec--group"},r.a.createElement("label",{htmlFor:"spec3",className:"add-item__label"},"3: "),r.a.createElement("input",{value:o,onChange:this.handleChange,type:"text",name:"spec3",id:"spec3",className:"add-item__input"})),r.a.createElement("div",{className:"add-item__spec--group"},r.a.createElement("label",{htmlFor:"spec4",className:"add-item__label"},"3: "),r.a.createElement("input",{value:m,onChange:this.handleChange,type:"text",name:"spec4",id:"spec4",className:"add-item__input"}))),this.props.updating?r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("input",{type:"submit",value:"Updating",className:"add-item__upload",style:{marginRight:"1.5rem"},disabled:!0}),r.a.createElement(ue.a,{type:"Oval",color:"#006400",height:50,width:50,timeout:0})):r.a.createElement("input",{type:"submit",value:"Update",className:"add-item__upload",style:{marginRight:"1.5rem"}})))}}]),a}(r.a.Component),pe=Object(M.f)(Object(E.b)((function(e){return{products:X(e),categoryList:$(e),updating:oe(e)}}),(function(e){return{updateProduct:function(t,a){return e(function(e,t){return function(){var a=Object(p.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:ae}),r=x.collection("products").doc(t),a.next=5,r.update({productName:e.productName,description:e.description,category:e.category,price:parseInt(e.price),quantity:parseInt(e.quantity),specifications:[e.spec1,e.spec2,e.spec3,e.spec4]});case 5:n({type:ne}),ie()({title:"Done",text:"Update Successful",icon:"success",button:"ok!"}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),n((c=a.t0,{type:re,payload:c})),ie()({title:"oops! An Error occurred",text:"Try Again",icon:"warning",button:"ok"});case 13:case"end":return a.stop()}var c}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(de)),_e=function(){return r.a.createElement("div",{className:"create-admin"},r.a.createElement("h1",{className:"create-admin__heading"},r.a.createElement(h.a,null),r.a.createElement("span",null,"Create Admin")),r.a.createElement("div",{className:"create-admin__form-group"},r.a.createElement("label",{htmlFor:"email",className:"create-admin__label"},"Email:"),r.a.createElement("input",{type:"email",name:"email",id:"email",className:"create-admin__input"})),r.a.createElement("input",{type:"submit",value:"Create",className:"create-admin__submit"}))},ge="ADD_CATEGORY_START",he="ADD_CATEGORY_SUCCESS",be="ADD_CATEGORY_FAILURE",Ee="GET_CATEGORY_START",fe="GET_CATEGORY_SUCCESS",ve="GET_CATEGORY_FAILURE",ye=function(e){return{type:fe,payload:e}},Ne=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={category:""},e.handleChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(Y.a)({},r,n))},e.handleSubmit=function(t){t.preventDefault(),e.props.createCategory(e.state.category),e.setState({category:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"create-admin"},r.a.createElement("h1",{className:"create-admin__heading"},r.a.createElement(h.a,null),r.a.createElement("span",null,"Create Category")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"create-admin__form-group"},r.a.createElement("label",{htmlFor:"category",className:"create-admin__label"},"Category:"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"category",id:"category",className:"create-admin__input",required:!0,value:this.state.category})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("input",{type:"submit",value:"Create",className:"create-admin__submit",style:{marginRight:"1rem"}}),this.props.isCreating?r.a.createElement(ue.a,{style:{marginTop:".5rem"},type:"Puff",color:"#FF0000",height:20,width:20,timeout:0}):"")))}}]),a}(r.a.Component),Oe=Object(E.b)((function(e){return{isCreating:V(e),errMsg:J(e)}}),(function(e){return{createCategory:function(t){return e(function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ge}),t.next=4,x.collection("categories").add({categoryName:e.toLowerCase()});case 4:return t.next=6,x.collection("stock_count").doc(e.toLowerCase()).set({count:0,category:e.toLowerCase()});case 6:a({type:he}),ie()({title:"Done",text:"Created new category",icon:"success",button:"ok!"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a((t.t0,{type:be}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ne),je=a(2),Ce=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={productName:"",description:"",category:"",price:"",qty:"",img:null,categoryList:null,spec1:"",spec2:"",spec3:"",spec4:""},e.handleChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(Y.a)({},r,n))},e.handleSubmit=function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),console.log(e.state),e.props.uploadNewProducts(e.state),e.setState(Object(je.a)(Object(je.a)({},e.state),{},{productName:"",description:"",category:"",price:"",qty:"",spec1:"",spec2:"",spec3:"",spec4:""}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleFileChange=function(t){e.setState(Object(je.a)(Object(je.a)({},e.state),{},{img:t.target.files[0]}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getCategoryList();case 2:this.setState(Object(je.a)(Object(je.a)({},this.state),{},{categoryList:this.props.categories}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.productName,a=e.description,n=e.category,c=e.price,i=e.qty,s=e.spec1,l=e.spec2,o=e.spec3,m=e.spec4;return r.a.createElement("div",{className:"add-item"},r.a.createElement("h2",{className:"add-item__heading"},r.a.createElement(g.b,null),r.a.createElement("span",null,"Add New Item(s)")),r.a.createElement("form",{className:"add-item__form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"add-item__form--group"},r.a.createElement("label",{htmlFor:"name",className:"add-item__label"},"Product Name:"),r.a.createElement("input",{value:t,onChange:this.handleChange,type:"text",name:"productName",id:"name",required:!0,className:"add-item__input add-item__input--name"})),r.a.createElement("div",{className:"add-item__form--group add-item__description"},r.a.createElement("label",{htmlFor:"description",className:"add-item__label"},"Description:"),r.a.createElement("textarea",{value:a,onChange:this.handleChange,name:"description",id:"description",cols:"36",rows:"3",required:!0,className:"add-item__input add-item__input--textarea"})),r.a.createElement("div",{className:"add-item__form--group add-item__category"},r.a.createElement("label",{htmlFor:"category",className:"add-item__label"},"Category:"),r.a.createElement("select",{value:n,onChange:this.handleChange,id:"category",name:"category",className:"add-item__input add-item__input--category",required:!0},r.a.createElement("option",null,"Select Category"),this.state.categoryList?this.state.categoryList.map((function(e){return r.a.createElement("option",{key:e.categoryName,value:e.categoryName},e.categoryName)})):r.a.createElement("option",{value:"Computer"},"Loading..."))),r.a.createElement("div",{className:"add-item__form--number"},r.a.createElement("div",{className:"add-item__form--group"},r.a.createElement("label",{htmlFor:"Price",className:"add-item__label"},"Price(\u20a6):"),r.a.createElement("input",{value:c,onChange:this.handleChange,type:"number",name:"price",id:"price",required:!0,className:"add-item__input add-item__input--price"})),r.a.createElement("div",{className:"add-item__form--group"},r.a.createElement("label",{htmlFor:"qty",className:"add-item__label"},"Quantity:"),r.a.createElement("input",{value:i,onChange:this.handleChange,type:"number",name:"qty",id:"qty",required:!0,className:"add-item__input add-item__input--qty"}))),r.a.createElement("div",{className:"add-item__form--group"},r.a.createElement("label",{htmlFor:"image",className:"add-item__label"},"Select Image:"),r.a.createElement("input",{onChange:this.handleFileChange,type:"file",className:"add-item__input--file",style:{color:"red"},required:!0,accept:"image/png, image/jpeg, image/jpg, image/webp"})),r.a.createElement("div",{className:"add-item__spec"},r.a.createElement("h5",{className:"add-item__spec--heading"},"Add Specification"),r.a.createElement("div",{className:"add-item__spec--group"},r.a.createElement("label",{htmlFor:"spec1",className:"add-item__label"},"1: "),r.a.createElement("input",{value:s,onChange:this.handleChange,type:"text",name:"spec1",id:"spec1",className:"add-item__input"})),r.a.createElement("div",{className:"add-item__spec--group"},r.a.createElement("label",{htmlFor:"spec2",className:"add-item__label"},"2: "),r.a.createElement("input",{value:l,onChange:this.handleChange,type:"text",name:"spec2",id:"spec2",className:"add-item__input"})),r.a.createElement("div",{className:"add-item__spec--group"},r.a.createElement("label",{htmlFor:"spec3",className:"add-item__label"},"3: "),r.a.createElement("input",{value:o,onChange:this.handleChange,type:"text",name:"spec3",id:"spec3",className:"add-item__input"})),r.a.createElement("div",{className:"add-item__spec--group"},r.a.createElement("label",{htmlFor:"spec4",className:"add-item__label"},"4: "),r.a.createElement("input",{value:m,onChange:this.handleChange,type:"text",name:"spec4",id:"spec4",className:"add-item__input"}))),this.props.isAddingNewProduct?r.a.createElement("div",{style:{marginTop:"2rem",display:"flex",alignItems:"center"}},r.a.createElement("input",{style:{marginRight:"2rem"},type:"submit",value:"Uploading",className:"add-item__upload",disabled:!0}),r.a.createElement(ue.a,{type:"Oval",color:"#006400",height:50,width:50,timeout:0})):r.a.createElement("div",{style:{marginTop:"2rem",display:"flex",alignItems:"center"}},r.a.createElement("input",{style:{marginRight:"2rem"},type:"submit",value:"Upload",className:"add-item__upload"}))))}}]),a}(r.a.Component),ke=Object(E.b)((function(e){return{categories:$(e),isAddingNewProduct:le(e)}}),(function(e){return{getCategoryList:function(){return e(function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[],t({type:Ee}),n=x.collection("categories"),e.next=6,n.get();case 6:e.sent.docs.forEach((function(e){a.push(e.data())})),t(ye(a)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),t((r=e.t0,{type:ve,payload:r}));case 15:case"end":return e.stop()}var r}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())},uploadNewProducts:function(t){return e((a=t,function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Z}),e.next=4,T.child(a.img.name).put(a.img);case 4:return e.next=6,T.child(a.img.name).getDownloadURL();case 6:return n=e.sent,r=x.collection("products"),e.next=10,r.add({productName:a.productName,description:a.description,category:a.category,price:parseInt(a.price),quantity:parseInt(a.qty),imgUrl:n,specifications:[a.spec1,a.spec2,a.spec3,a.spec4]});case 10:return c=x.collection("stock_count").doc(a.category),e.next=13,c.update({count:w.a.firestore.FieldValue.increment(parseInt(a.qty))});case 13:t({type:ee}),ie()({title:"Done",text:"Uploaded new Products!",icon:"success",button:"ok!"}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),t((i=e.t0,{type:te,payload:i})),ie()({title:"oops! An Error occurred",text:"Try Again",icon:"warning",button:"ok"});case 21:case"end":return e.stop()}var i}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))(Ce),we=function(e){var t=e.split(" ");return t.length>16?"".concat(t.slice(0,15).join(" "),"..."):e},Se=Object(M.f)((function(e){var t=e.data,a=t.description,n=t.imgUrl,c=t.price,i=t.productName,s=t.quantity,l=t.unitsSold,o=e.id,m=e.history;return r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"item__content"},r.a.createElement("figure",{className:"item__img"},r.a.createElement("img",{src:"".concat(n),alt:""})),r.a.createElement("div",{className:"item__details"},r.a.createElement("div",{className:"item__spec"},r.a.createElement("div",{className:"item__detail "},r.a.createElement("p",{className:"item__detail--name"},"Name:"),r.a.createElement("span",null,i)),r.a.createElement("div",{className:"item__detail"},r.a.createElement("p",{className:"item__detail--description"},"Description:"),r.a.createElement("span",null,we(a))),r.a.createElement("div",{className:"item__detail"},r.a.createElement("p",{className:"item__detail--unit"},"Units Sold"),r.a.createElement("span",null,l||0))),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"item__detail"},r.a.createElement("p",{className:"item__detail--price"},"Price:"),r.a.createElement("span",null,"\u20a6 ",c)),r.a.createElement("div",{className:"item__detail"},r.a.createElement("p",{className:"item__detail--qty"},"Qty:"),r.a.createElement("span",null,s)),r.a.createElement("button",{onClick:function(){return m.push("/edit/".concat(o))},className:"item__btn"},"Edit")))))})),xe="GET_PRODUCT_START",Ae="GET_PRODUCT_SUCCESS",Te="GET_PRODUCT_FAILURE",Ue=function(e){return{type:xe,payload:e}},Ge=function(e){return{type:Ae,payload:e}},Ie=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.id;(0,e.getProducts)(t)}},{key:"render",value:function(){var e=this.props,t=e.match.params.id,a=e.products;return console.log(a),r.a.createElement("div",{className:"item-page"},r.a.createElement("h1",{className:"item-page--heading"},"Showing Results for ",t),a?a.map((function(e){return r.a.createElement(Se,{key:e.id,id:e.id,data:e.data})})):"loading")}}]),a}(n.Component),De=Object(M.f)(Object(E.b)((function(e){return{products:X(e),isGettingProducts:K(e)}}),(function(e){return{getProducts:function(t){return e((a=t,function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Ue(a)),n=x.collection("products").where("category","==",a),r=[],e.next=6,n.get();case 6:e.sent.docs.forEach((function(e){r.push({id:e.id,data:e.data()})})),t(Ge(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Te,payload:a});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))(Ie)),Pe=a(45),Fe=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={email:"",password:"",loading:!1,passwordError:"",emailError:""},e.handleChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(Y.a)({},r,n))},e.handleSubmit=function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,e.setState(Object(je.a)(Object(je.a)({},e.state),{},{loading:!0,emailError:"",passwordError:""})),t.next=5,S.signInWithEmailAndPassword(e.state.email,e.state.password);case 5:e.setState(Object(je.a)(Object(je.a)({},e.state),{},{loading:!1,email:"",password:""})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.setState(Object(je.a)(Object(je.a)({},e.state),{},{loading:!1})),"auth/user-not-found"===t.t0.code?e.setState(Object(je.a)(Object(je.a)({},e.state),{},{emailError:"User Not Found"})):"auth/wrong-password"===t.t0.code?e.setState(Object(je.a)(Object(je.a)({},e.state),{},{passwordError:"Incorrect Password"})):"auth/network-request-failed"===t.t0.code&&ie()({title:"Network Error!",text:"Check your network connection and try again",icon:"warning",button:"ok"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleGoogleAuth=function(){S.signInWithPopup(A)},e}return Object(l.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"auth__container"},r.a.createElement("h3",{className:"auth--heading"},"Log in to your account"),r.a.createElement("form",{className:"auth__form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"auth__formGroup"},r.a.createElement(_.f,{className:"auth__formGroup--icon"}),r.a.createElement("input",{className:"auth__form-input",type:"email",name:"email",id:"email",placeholder:"Email",required:!0,value:this.state.email,onChange:this.handleChange})),r.a.createElement("p",{className:"auth__error-msg"},this.state.emailError),r.a.createElement("div",{className:"auth__formGroup"},r.a.createElement(g.a,{className:"auth__formGroup--icon"}),r.a.createElement("input",{className:"auth__form-input",type:"password",name:"password",id:"password",placeholder:"Password",required:!0,value:this.state.password,onChange:this.handleChange})),r.a.createElement("p",{className:"auth__error-msg"},this.state.passwordError),r.a.createElement("div",{className:"auth__formGroup"},this.state.loading?r.a.createElement("button",{type:"submit",className:"auth__submit-btn"},r.a.createElement("span",{style:{marginRight:"1rem"}},"Wait"),r.a.createElement(ue.a,{style:{marginTop:".5rem"},type:"Oval",color:"#ffffff",height:20,width:20,timeout:0})):r.a.createElement("button",{type:"submit",className:"auth__submit-btn"},r.a.createElement(h.b,{className:"auth__btn-icon"}),r.a.createElement("span",{style:{marginRight:"1rem"}},"Login")))),r.a.createElement("div",{className:"auth__formGroup"},r.a.createElement("button",{className:"auth__google-btn",onClick:this.handleGoogleAuth},r.a.createElement(Pe.a,{className:"auth__btn-icon"}),r.a.createElement("span",null,"Login with Google")))))}}]),a}(r.a.Component),qe=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currentUser,a=e.sidebarHidden,n=e.SideBar;return r.a.createElement("div",{className:"admin-nav"},r.a.createElement("h1",{className:"admin-nav__logo"},"Oville Gadgets"),r.a.createElement("ul",{className:"admin-nav__links",style:{marginLeft:"auto"}},t?r.a.createElement(b.b,{to:"/",className:"admin-nav__links--item",style:{color:"white",textDecoration:"none",display:"flex",alignItems:"center"}},r.a.createElement(_.b,{className:"admin-nav__links--icon"})," Home"):"",t?r.a.createElement("li",{className:"admin-nav__links--item",onClick:function(){return S.signOut()}},r.a.createElement(_.e,{className:"admin-nav__links--icon"})," Sign Out"):"",t?r.a.createElement("div",null,a?r.a.createElement("li",{className:"admin-nav__btn",onClick:n},r.a.createElement("div",{className:"admin-nav__hamburger"}),r.a.createElement("div",{className:"admin-nav__hamburger"}),r.a.createElement("div",{className:"admin-nav__hamburger"})):r.a.createElement(_.c,{onClick:n,style:{fontSize:"2.5rem",marginTop:"1rem",cursor:"pointer"}})):""))}}]),a}(r.a.Component),Re=Object(E.b)((function(e){return{currentUser:O(e),sidebarHidden:N(e)}}),(function(e){return{SideBar:function(){return e({type:D})}}}))(qe),Me=function(){return r.a.createElement("div",{className:"admin-signin"},r.a.createElement(Re,null),r.a.createElement(Fe,null))},Le=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getStockCount();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.currentUser?r.a.createElement(b.a,null,r.a.createElement(Re,null),r.a.createElement("div",{className:"admin-dashboard"},r.a.createElement(C,null),r.a.createElement("div",{className:"dashboard-container"},r.a.createElement(M.c,null,r.a.createElement(M.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",null,r.a.createElement(R,null),r.a.createElement(H,null))}}),r.a.createElement(M.a,{exact:!0,path:"/add",component:ke}),r.a.createElement(M.a,{exact:!0,path:"/Create-admin",component:_e}),r.a.createElement(M.a,{exact:!0,path:"/create-category",component:Oe}),r.a.createElement(M.a,{exact:!0,path:"/edit/:id",component:pe}),r.a.createElement(M.a,{exact:!0,path:"/product/:id",component:De}))))):r.a.createElement(Me,null)}}]),a}(r.a.Component),We=Object(E.b)((function(e){return{currentUser:O(e)}}),(function(e){return{getStockCount:function(){return e(F())}}}))(Le),He="SET_CURRENT_USER",Ye=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;S.onAuthStateChanged((function(t){e.props.setUser(t)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"admin-container"},r.a.createElement(We,null))}}]),a}(r.a.Component),Be=Object(E.b)(null,(function(e){return{setUser:function(t){return e(function(e){return{type:He,payload:e}}(t))}}}))(Ye);a(88);var ze=function(){return r.a.createElement("main",{className:"App"},r.a.createElement(Be,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=a(46),Xe=a(21),Qe=a(34),Ve=a(47),Je=a.n(Ve),$e=a(48),Ze=a(49),et={currentUser:null},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return Object(je.a)(Object(je.a)({},e),{},{currentUser:t.payload});default:return e}},at={isCreating:!1,errorMsg:null,isGettingCategory:!1,getCategoryErrorMsg:"",categories:null},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(je.a)(Object(je.a)({},e),{},{isCreating:!0});case he:return Object(je.a)(Object(je.a)({},e),{},{isCreating:!1});case be:return Object(je.a)(Object(je.a)({},e),{},{isCreating:!1,errorMsg:t.payload});case Ee:return Object(je.a)(Object(je.a)({},e),{},{isGettingCategory:!0});case fe:return Object(je.a)(Object(je.a)({},e),{},{categories:t.payload,isGettingCategory:!1});case ve:return Object(je.a)(Object(je.a)({},e),{},{isGettingCategory:!1,getCategoryErrorMsg:t.payload});default:return e}},rt={isAdding:!1,addingErrorMsg:"",isUpdating:!1,updateErrorMsg:"",clearForm:!1},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(je.a)(Object(je.a)({},e),{},{isAdding:!0});case ee:return Object(je.a)(Object(je.a)({},e),{},{isAdding:!1});case te:return Object(je.a)(Object(je.a)({},e),{},{isAdding:!1,addingErrorMsg:t.payload});case ae:return Object(je.a)(Object(je.a)({},e),{},{isUpdating:!0});case ne:return Object(je.a)(Object(je.a)({},e),{},{isUpdating:!1,clearForm:!0});case re:return Object(je.a)(Object(je.a)({},e),{},{updateErrorMsg:t.payload});default:return e}},it={stock:null,isGettingStock:!1,getStockErrorMsg:"",burgerIsHidden:!0},st={isGettingProducts:!1,productCategory:"",products:null,getProductsErrorMsg:""},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(je.a)(Object(je.a)({},e),{},{isGettingProducts:!0,productCategory:t.payload});case Ae:return Object(je.a)(Object(je.a)({},e),{},{isGettingProducts:!1,products:t.payload});case Te:return Object(je.a)(Object(je.a)({},e),{},{isGettingProducts:!1,getProductsErrorMsg:t.payload});default:return e}},ot={key:"root",storage:a.n(Ze).a,whitelist:["category","newItem","stock","products"]},mt=Object(Xe.c)({user:tt,category:nt,newItem:ct,stock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(je.a)(Object(je.a)({},e),{},{isGettingStock:!0});case G:return Object(je.a)(Object(je.a)({},e),{},{isGettingStock:!1,stock:t.payload});case I:return Object(je.a)(Object(je.a)({},e),{},{isGettingStock:!1,getStockErrorMsg:t.payload});case D:return Object(je.a)(Object(je.a)({},e),{},{burgerIsHidden:!e.burgerIsHidden});default:return e}},products:lt}),ut=Object(Qe.a)(ot,mt),dt=[Je.a,$e.a],pt=Object(Xe.d)(ut,Xe.a.apply(void 0,dt)),_t=Object(Qe.b)(pt);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,{store:pt},r.a.createElement(b.a,null,r.a.createElement(Ke.a,{persistor:_t},r.a.createElement(ze,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.3d3ae5ac.chunk.js.map